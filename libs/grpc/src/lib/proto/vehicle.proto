syntax = "proto3";

package vehicle;

service VehicleService {
  rpc GetFeature(GetFeatureRequest) returns (GetFeatureResponse);
  rpc GetAllFeatures(GetAllFeaturesRequest) returns (GetAllFeaturesResponse);
  rpc CreateFeature(CreateFeatureRequest) returns (GetFeatureResponse);
  rpc UpdateFeature(UpdateFeatureRequest) returns (GetFeatureResponse);
  rpc DeleteFeature(GetFeatureRequest) returns (MessageResponse);

  rpc GetAllBrands(GetAllBrandsRequest) returns (GetAllBrandsResponse);
  rpc CreateBrand(CreateBrandRequest) returns (GetBrandResponse);
  rpc UpdateBrand(UpdateBrandRequest) returns (GetBrandResponse);
  rpc DeleteBrand(DeleteBrandRequest) returns (MessageResponse);

  rpc GetAllModels(GetAllModelsRequest) returns (GetAllModelsResponse);
  rpc CreateModel(CreateModelRequest) returns (GetModelResponse);
  rpc UpdateModel(UpdateModelRequest) returns (GetModelResponse);
  rpc DeleteModel(DeleteModelRequest) returns (MessageResponse);

  rpc GetVehicle(GetVehicleRequest) returns (GetVehicleResponse);
  rpc GetManyVehicles(GetManyVehiclesRequest) returns (GetManyVehiclesResponse);
  rpc CreateVehicle(CreateVehicleRequest) returns (GetVehicleResponse);
  rpc UpdateVehicle(UpdateVehicleRequest) returns (GetVehicleResponse);
  rpc DeleteVehicle(GetVehicleRequest) returns (MessageResponse);
  rpc CalculateVehiclePrice(CalculateVehiclePriceRequest) returns (CalculateVehiclePriceResponse);
}
// ======================================================== Feature
// GetFeature
message GetFeatureRequest {
  optional string id = 1;
  optional string name = 2;
}

message GetFeatureResponse {
  string id = 1;
  string name = 2;
  string description = 3;
  string icon = 4;
  string createdAt = 5;
  string updatedAt = 6;
}

// GetAllFeatures
message GetAllFeaturesRequest {}

message GetAllFeaturesResponse {
  repeated GetFeatureResponse features = 1;
}

// CreateFeatures
message CreateFeatureRequest {
  string name = 1;
  string description = 2;
  string icon = 3;
}

// UpdateFeatures
message UpdateFeatureRequest {
  optional string name = 1;
  optional string description = 2;
  optional string icon = 3;
  string id = 4;
}

// ======================================================== Brand
// GetAllBrands
message GetAllBrandsRequest {
  optional string type = 1;
}

message GetBrandResponse {
  string id = 1;
  string name = 2;
  string type = 3;
}

message GetAllBrandsResponse {
  repeated GetBrandResponse brands  = 1;
}

// CreateBrand
message CreateBrandRequest {
  string name = 1;
}

// UpdateBrand
message UpdateBrandRequest {
  string id = 1;
  string name = 2;
}

// DeleteBrand
message DeleteBrandRequest {
  optional string id = 1;
  optional string name = 2;
}

// ======================================================== Model

// GetAllModels
message GetAllModelsRequest {
  optional string brandId = 1;
  optional string type = 2;
}

message GetModelResponse {
  string id = 1;
  string name = 2;
  string brandId = 3;
  string type = 4;
}

message GetAllModelsResponse {
  repeated GetModelResponse models  = 1;
}

// CreateModel
message CreateModelRequest {
  string name = 1;
  string brandId = 2;
}

// UpdateModel
message UpdateModelRequest {
  string id = 1;
  optional string name = 2;
  optional string brandId = 3;
}

// DeleteModel
message DeleteModelRequest {
  optional string id = 1;
  optional string name = 2;
}

// ======================================================== Vehicle
// GetVehicle
message GetVehicleRequest {
  optional string id = 1;
  optional string licensePlate = 2;
}

message VehicleFeature {
  GetFeatureResponse feature = 1;
}

message GetVehicleResponse {
  string id = 1;
  string type = 2;
  string name = 3;
  string brandId = 4;
  string modelId = 5;

  int32 seats = 6;
  string fuelType = 7;
  string transmission = 8;

  int32 pricePerHour = 9;
  int32 pricePerDay = 10;

  string location = 11;
  string city = 12;
  string ward = 13;
  double latitude = 14;
  double longitude = 15;

  string description = 16;
  repeated string terms = 17;

  string status = 18;

  int32 totalTrips = 19;
  double averageRating = 20;
  repeated string totalReviewIds = 21;

  repeated string images = 22;

  repeated VehicleFeature vehicleFeatures = 23;

  string createdAt = 24;
  string updatedAt = 25;
}

// GetManyVehicles
message GetManyVehiclesRequest {
  optional string id = 1;
  optional string type = 2;
  optional string name = 3;
  optional string brandId = 4;
  optional string modelId = 5;
  optional string licensePlate = 6;

  optional int32 seats = 7;
  optional string fuelType = 8;
  optional string transmission = 9;

  optional string city = 10;
  optional string ward = 11;

  optional string status = 12;

  optional double averageRating = 13;

  int32 page = 14;
  int32 limit = 15;
}

message GetManyVehiclesResponse {
  repeated GetVehicleResponse vehicles = 1;
  int32 page = 2;
  int32 limit = 3;
  int32 totalItems = 4;
  int32 totalPages = 5;
}

// CreateVehicle
message CreateVehicleRequest {
  string type = 1;
  string name = 2;
  string brandId = 3;
  string modelId = 4;
  string licensePlate = 5;

  int32 seats = 6;
  string fuelType = 7;
  string transmission = 8;

  int32 pricePerHour = 9;
  int32 pricePerDay = 10;

  string location = 11;
  string city = 12;
  string ward = 13;
  double latitude = 14;
  double longitude = 15;

  string description = 16;
  repeated string terms = 17;

  string status = 18;

  repeated string images = 19;

  repeated string featureIds = 20;
}

// UpdateVehicle
message UpdateVehicleRequest {
  optional string type = 1;
  optional string name = 2;
  optional string brandId = 3;
  optional string modelId = 4;
  optional string licensePlate = 5;

  optional int32 seats = 6;
  optional string fuelType = 7;
  optional string transmission = 8;

  optional int32 pricePerHour = 9;
  optional int32 pricePerDay = 10;

  optional string location = 11;
  optional string city = 12;
  optional string ward = 13;
  optional double latitude = 14;
  optional double longitude = 15;

  optional string description = 16;
  repeated string terms = 17;

  optional string status = 18;

  repeated string images = 19;

  repeated string featureIds = 20;

  string id = 21;
}

message MessageResponse {
  string message = 1;
}

message CalculateVehiclePriceRequest {
  string vehicleId = 1;
  int32 hours = 2;
}

message CalculateVehiclePriceResponse {
  int32 rentalFee = 1;
  int32 insuranceFee = 2;
  int32 vat = 3;
  int32 totalAmount = 4;
  int32 deposit = 5;
}